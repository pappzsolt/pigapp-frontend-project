<div class="container mx-auto px-4">
  <div class="bg-blue-100 p-6 rounded-2xl shadow-md">
    <h2 class="text-2xl font-semibold text-blue-800 mb-4">Számla átalakítása</h2>

    <!-- Üzenet doboz -->
       <div *ngIf="transferMessage" class="p-4 rounded-xl shadow-md mb-4" [ngClass]="{'bg-green-100 text-green-800': transferMessage.startsWith('✅'), 'bg-red-100 text-red-800': transferMessage.startsWith('❌'),'bg-yellow-100 text-yellow-800': transferMessage.startsWith('⚠️')}"
         >
        {{ transferMessage }}
        </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-6 mb-6">
      <!-- Számla 1 -->
      <div class="flex-1 min-w-[250px]">
        <label for="szamla1" class="block text-blue-800 font-medium mb-1">Számla 1</label>
        <select id="szamla1" formControlName="szamla1" class="w-full p-2 border border-blue-300 rounded-xl shadow-sm">
          <option value="0" selected>Válassz számlát</option>
          <!-- Debugging: Ellenőrizzük, hogy van-e adat -->
          <option *ngFor="let invoice of invoiceOption" [value]="invoice.id">
            {{ invoice.invoice_name }}
          </option>
          <option *ngIf="invoiceOption.length === 0" value="" disabled>Nincs elérhető számla</option>
        </select>
      </div>

      <!-- Összeg -->
      <div class="w-32">
        <label for="osszeg" class="block text-blue-800 font-medium mb-1">Összeg</label>
        <input type="number" id="osszeg" formControlName="osszeg" class="w-full p-2 border border-blue-300 rounded-xl shadow-sm" placeholder="Pl. 10000">
      </div>

      <!-- Számla 2 -->
      <div class="flex-1 min-w-[250px]">
        <label for="szamla2" class="block text-blue-800 font-medium mb-1">Számla 2</label>
        <select id="szamla2" formControlName="szamla2" class="w-full p-2 border border-blue-300 rounded-xl shadow-sm">
          <option value="0" selected>Válassz számlát</option>
          <option *ngFor="let invoice of invoiceOption" [value]="invoice.id">
            {{ invoice.invoice_name }}
          </option>
          <option *ngIf="invoiceOption.length === 0" value="" disabled>Nincs elérhető számla</option>
        </select>
      </div>

      <!-- Küldés gomb -->
      <div class="w-full flex justify-start mt-4">
        <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-xl shadow">
          Átalakítás
        </button>
      </div>
    </form>
  </div>
</div>
