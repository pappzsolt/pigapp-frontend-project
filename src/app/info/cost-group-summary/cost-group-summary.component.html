<div class="cost-summary-card">
  <!-- fejléc -->
  <header class="flex flex-col gap-2 mb-2">
    <div class="flex items-center justify-between gap-3">
      <h2 class="section-title !mb-0">
        <span
          class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-700 text-xs font-semibold"
        >
          KG
        </span>
        <span>Kiadás csoportok</span>
      </h2>

      <span class="text-xs font-medium uppercase tracking-wide text-gray-500">
        Aktuális hónap
      </span>
    </div>

    <p class="text-sm text-blue-700 flex items-center gap-2">
      <span class="text-gray-500">Dátum tartomány:</span>

      <span class="date-pill">
        {{ costGroupResponse?.filtered_dates?.current_month_start | date: 'yyyy. MMM dd.' }}
      </span>

      <span class="separator"></span>

      <span class="date-pill">
        {{ costGroupResponse?.filtered_dates?.current_month_end | date: 'yyyy. MMM dd.' }}
      </span>
    </p>
  </header>

  <!-- csoportok -->
  <div
    *ngFor="let groupId of objectKeys(costGroupResponse?.cost_groups)"
    class="cost-item-card space-y-3"
  >
    <div class="flex items-center justify-between gap-3">
      <h3 class="text-lg font-medium text-gray-800">
        Csoport:
        {{ costGroupResponse.cost_groups[groupId][0]?.costgroup_name || 'Ismeretlen Csoport' }}
      </h3>

      <span
        class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 border border-blue-100"
      >
        {{ costGroupResponse.cost_groups[groupId].length }} tétel
      </span>
    </div>

    <div class="divide-y divide-gray-200">
      <div
        *ngFor="let item of costGroupResponse.cost_groups[groupId]"
        class="flex justify-between items-center py-2"
      >
        <span class="text-xs uppercase tracking-wide text-gray-500">Összeg</span>
        <span class="text-blue-900 font-semibold text-sm">
          {{ item.total_amount | number }} Ft
        </span>
      </div>
    </div>
  </div>

  <!-- üres állapot -->
  <div
    *ngIf="!costGroupResponse || objectKeys(costGroupResponse?.cost_groups).length === 0"
    class="text-center text-sm text-gray-500 py-8 border border-dashed border-gray-200 rounded-2xl bg-gray-50"
  >
    Nincs megjeleníthető adat.
  </div>
</div>
