<div class="container mx-auto px-4 py-8">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

    <!-- Költség lista -->
    <div class="bg-blue-100 p-6 rounded-2xl shadow-md border border-blue-200">
      <h2 class="text-2xl font-semibold text-blue-800 mb-4">Költségek listája</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full table-auto">
          <thead>
            <tr class="bg-blue-200 text-blue-900">
              <th class="px-4 py-2 text-left border-b">Költség neve</th>
              <th class="px-4 py-2 text-left border-b">Összeg</th>
              <th class="px-4 py-2 text-left border-b">Dátum</th>
              <th class="px-4 py-2 text-left border-b">Akciók</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let cost of costs" class="bg-white">
              <td class="px-4 py-2 border-b">{{ cost.cost_name }}</td>
              <td class="px-4 py-2 border-b text-green-700 font-semibold">{{ cost.amount }} Ft</td>
              <td class="px-4 py-2 border-b">{{ cost.cost_date }}</td>
              <td class="px-4 py-2 border-b">
                <button (click)="deleteCost(cost.id)" class="px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition">
                  Törlés
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!--  -->
      <div class="mt-4 h-12 flex justify-center items-center gap-4">
        <button
          class="w-24 px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50"
          [disabled]="currentPage === 1"
          (click)="changePage(currentPage - 1)">
          Előző
        </button>

        <span class="text-gray-700">Oldal {{ currentPage }} / {{ totalPages }}</span>

        <button
          class="w-24 px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50"
          [disabled]="currentPage === totalPages"
          (click)="changePage(currentPage + 1)">
          Következő
        </button>
      </div>
      <!--  -->
    </div>

    <!-- Új költség form -->
    <div class="bg-white p-6 rounded-2xl shadow-md border border-blue-200">
      <h2 class="text-2xl font-semibold text-blue-800 mb-4">Új költség hozzáadása</h2>
      <form [formGroup]="costForm" (ngSubmit)="addCost()" class="space-y-4">

        <div class="flex flex-col">
          <label for="cost_name" class="text-sm text-gray-700 mb-1">Költség neve</label>
          <input id="cost_name" formControlName="cost_name" type="text" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
        </div>

        <div class="flex flex-col">
          <label for="cost_note" class="text-sm text-gray-700 mb-1">Megjegyzés</label>
          <input id="cost_note" formControlName="cost_note" type="text" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
        </div>

        <div class="flex flex-col">
          <label for="amount" class="text-sm text-gray-700 mb-1">Összeg</label>
          <input id="amount" formControlName="amount" type="number" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
        </div>

        <div class="flex flex-col">
          <label for="cost_date" class="text-sm text-gray-700 mb-1">Dátum</label>
          <input id="cost_date" formControlName="cost_date" type="date" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
        </div>

        <div class="flex flex-col">
          <label for="invoice" class="text-sm text-gray-700 mb-1">Számla</label>
          <select id="invoice" formControlName="invoice" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
            <option *ngFor="let invoice of invoices" [value]="invoice.id">{{ invoice.invoice_name }}</option>
          </select>
        </div>

        <div class="flex flex-col">
          <label for="dev" class="text-sm text-gray-700 mb-1">Pénznem</label>
          <select id="dev" formControlName="dev" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
            <option *ngFor="let dev of devs" [value]="dev.id">{{ dev.dev_name }}</option>
          </select>
        </div>

        <div class="flex flex-col">
          <label for="costrepeat" class="text-sm text-gray-700 mb-1">Ismétlés</label>
          <select id="costrepeat" formControlName="costrepeat" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
            <option *ngFor="let costRepeat of costRepeats" [value]="costRepeat.id">{{ costRepeat.cost_repeat_name }}</option>
          </select>
        </div>

        <div class="flex flex-col">
          <label for="costgroup" class="text-sm text-gray-700 mb-1">Költség csoport</label>
          <select id="costgroup" formControlName="costgroup" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400">
            <option *ngFor="let costGroup of costGroups" [value]="costGroup.id">{{ costGroup.cost_group_name }}</option>
          </select>
        </div>
        <!-- Paid checkbox -->
        <div class="flex items-center">
          <input id="paid" type="checkbox" formControlName="paid" class="mr-2 w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-2 focus:ring-blue-400">
          <label for="paid" class="text-sm text-gray-700">Fizetve</label>
        </div>

        <div class="flex flex-col">
          <label for="paid_date" class="text-sm text-gray-700 mb-1">Fizetés dátuma</label>
          <input id="paid_date" formControlName="paid_date" type="date" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400" [disabled]="!costForm.controls['paid'].value">
        </div>


        <button type="submit" class="w-full mt-4 px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition">
          Hozzáadás
        </button>
      </form>


    </div>

  </div>
</div>


