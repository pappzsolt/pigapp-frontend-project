<div class="cashflow-layout">
  <!-- Bal oldali box: űrlap -->
  <section appTailwindBlueBox class="cashflow-form-card flex-1">
    <h2 class="cashflow-form-title">Új Fizetés / bevételek hozzáadása</h2>

    <form
      [formGroup]="cashFlowForm"
      (ngSubmit)="addCost()"
      class="cashflow-form"
    >
      <ng-container *ngFor="let field of fieldConfigs">
        <div class="cashflow-form-field">
          <label
            class="cashflow-form-label"
            [for]="field.controlName"
          >
            {{ field.label }}
          </label>

          <input
            *ngIf="field.type !== 'select'"
            appStyledInput
            [widthClass]="'w-1/2'"
            [id]="field.controlName"
            [type]="field.type"
            [formControlName]="field.controlName"
          />

          <select
            *ngIf="field.type === 'select'"
            appTailwindStyledSelect="w-48"
            [id]="field.controlName"
            [formControlName]="field.controlName"
          >
            <option value="" disabled>-- Válasszon --</option>
            <option
              *ngFor="let option of field.options"
              [value]="option.id"
            >
              {{ option[field.optionLabel!] }}
            </option>
          </select>
        </div>
      </ng-container>

      <div class="cashflow-form-actions">
        <button type="submit" appButton="blue">
          Hozzáadás
        </button>
      </div>
    </form>
  </section>

  <!-- Jobb oldali box: táblák egymás alatt -->
  <section class="cashflow-side-panel flex-1">
    <div appTailwindBlueBox class="cashflow-box">
      <app-cashflow-table
        [title]="'aktuális havi fizetés'"
        [cashflows$]="cashflowActual$"
      ></app-cashflow-table>
    </div>

    <div appTailwindBlueBox class="cashflow-box">
      <app-cashflow-table
        [title]="'utolsó 10 hónap'"
        [cashflows$]="cashflows$"
      ></app-cashflow-table>
    </div>
  </section>
</div>
